<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Global Population Analysis</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <script src="http://d3js.org/d3.v7.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/d3-svg-legend@2.25.6/d3-legend.min.js"></script>
    <script src="https://unpkg.com/topojson@3"></script>
    <script type="module" src="./js/main.js" defer></script>
    <script type="module" src="./js/sidebar.js" defer></script>
</head>
<body class="dark:bg-gray-800 dark:text-white p-0">
    <!-- Top Nav -->
    <header class="m-auto w-[96vw] h-[12vh] flex items-center justify-center relative">
        <button id="menu-toggle" class="text-2xl focus:outline-none p-4 absolute left-4 top-1/2 -translate-y-1/2">
            &#9776; <!-- Hamburger icon -->
        </button>
        <h1 class="text-2xl font-bold" id="pageTitle"></h1>
    </header>

    <!-- Sidebar -->
    <div id="sidebar" class="fixed top-0 left-0 h-full w-64 bg-gray-800 text-white transform -translate-x-full transition-transform duration-300 z-50">
        <div class="p-4 flex justify-end">
            <button id="close-sidebar" class="text-xl">&times;</button>

        </div>
        <nav class="p-4 space-y-2" id="navigation-bar">
            <a href="#map" class="block hover:bg-gray-700 p-2 rounded" id="home">Home</a>
            <a href="#worldPopulationGrowthChart" class="block hover:bg-gray-700 p-2 rounded" id="nav-1">Global Poulation Chart</a>
            <a href="#worldPopulationRateChart" class="block hover:bg-gray-700 p-2 rounded" id="nav-2">Global Poulation Rate per 100</a>
            <a href="#top10Comparison" class="block hover:bg-gray-700 p-2 rounded" id="nav-3">Top 10 Populated Countries Comparison</a> <!-- ðŸš€ new button -->
        </nav>
    </div>
    <!-- Overlay -->
    <div id="overlay" class="hidden fixed inset-0 bg-white opacity-50 z-40"></div>
    <div id="container" class="m-auto w-[96vw] h-[80vh]"></div>
    <div id="tooltip" style="position: absolute; display: none; background: rgba(0, 0, 0, 0.7); border: 1px solid #ccc; padding: 5px; font-size: 12px; pointer-events: none;"></div>
    <script>
      const toggleBtn = document.getElementById("menu-toggle");
      const closeBtn = document.getElementById("close-sidebar");
      const sidebar = document.getElementById("sidebar");
      const overlay = document.getElementById("overlay");

      function openSidebar() {
        sidebar.classList.remove("-translate-x-full");
        overlay.classList.remove("hidden");
      }

      function closeSidebar() {
        sidebar.classList.add("-translate-x-full");
        overlay.classList.add("hidden");
      }

      toggleBtn.addEventListener("click", openSidebar);
      closeBtn.addEventListener("click", closeSidebar);
      overlay.addEventListener("click", closeSidebar);

      // ðŸš€ Bonus: Close sidebar when clicking a link
      document.querySelectorAll("#sidebar a").forEach(link => {
        link.addEventListener("click", () => {
          closeSidebar();
        });
      });
    </script>

</body>
</html>